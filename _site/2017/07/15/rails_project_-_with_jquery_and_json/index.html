<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="A Journey Through Codes
">

    <title>Rails Project - with JQuery & JSON - An Unexpected Journey</title>

    <link rel="canonical" href="http://localhost:4000/2017/07/15/rails_project_-_with_jquery_and_json/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <a class="navbar-brand navbar-right" href="https://learn.co" target="_blank">
            <h6 class="powered_by">Powered by
                <svg id='svg__logo--text' viewBox='0 0 130.5 42' fill="currentColor" width="50" class="svg-center">
                  <path d='M41.2,29.5h13v5.1h-19V8h6V29.5z'/>
                  <path d='M61.1,26.7c0.4,2.6,1.9,4.1,4.3,4.1c1.5,0,2.6-0.5,3.4-1.7h5.7c-1.1,3.8-4.7,6.1-9.3,6.1 c-5.9,0-9.9-4.1-9.9-10.1c0-6,4-10.2,9.9-10.2c4.1,0,7.1,2,8.6,5.7c0.7,1.7,1,3.5,1,6.1H61.1z M68.9,22.7 c-0.2-2.3-1.6-3.5-3.8-3.5c-2.2,0-3.6,1.2-4.1,3.5H68.9z'/>
                  <path d='M77.7,21.4c0.4-4.4,3.1-6.6,8.5-6.6c2.9,0,5.1,0.7,6.7,2c1.4,1.2,1.9,2.8,1.9,5.6v8.9 c0,2.1,0.1,2.4,0.7,3.3h-5.8c-0.2-0.7-0.2-0.8-0.4-1.5c-1.9,1.6-3.2,2-5.5,2c-4.3,0-7.1-2.4-7.1-6c0-3.6,2.3-5.5,7.7-6.4l3.1-0.5 c1.3-0.2,1.7-0.5,1.7-1.3c0-1.1-1.1-1.8-3-1.8c-2.1,0-3.2,0.7-3.4,2.3H77.7z M89.3,25.5c-0.6,0.2-1.1,0.4-2.1,0.6l-2,0.4 c-2,0.5-2.9,1.2-2.9,2.3c0,1.3,1.1,2,2.9,2c1.9,0,3.2-0.8,4.2-2.4V25.5z'/>
                  <path d='M104.4,15.4l-0.2,3.4c1.1-3.1,2.6-4,6.7-4v5.3c-0.7-0.1-1-0.1-1.4-0.1c-2,0-3.6,0.9-4.2,2.3 c-0.6,1.3-0.8,3.1-0.8,6.8v5.4h-5.7V15.4H104.4z'/>
                  <path d='M118.5,15.4v1.9c2.1-1.9,3.3-2.4,5.3-2.4c4.2,0,6.7,2.8,6.7,7.3v12.5h-5.7V24.1c0-2-0.1-2.7-0.6-3.4 c-0.5-0.7-1.3-1.1-2.3-1.1c-1,0-1.8,0.4-2.4,1c-0.6,0.7-0.8,1.5-0.8,3.2v10.8H113V15.4H118.5z'/>
                  <path stroke-miterlimit='10' d='M15.1,22l8.4,0l-8.4,13.9V22z M12.4,5.6l0,13.7H4.1L12.4,5.6z M12.6,1L0.7,20.4c-0.2,0.3-0.2,0.7,0,1c0.2,0.4,0.6,0.5,1,0.5l10.8,0l0,18.4c0,0.5,0.3,1,0.8,1.1c0.1,0,0.2,0.1,0.3,0.1 c0.4,0,0.8-0.2,1-0.5l11.7-19c0.2-0.3,0.3-1.1,0.3-1.5c-0.2-0.8-0.5-1.2-1.2-1.2H15.2l0-17.5c0-0.5-0.4-1.1-1.3-1.2 c-0.1,0-0.2,0-0.3,0C13.2,0.5,12.8,0.7,12.6,1'/>
                </svg>
            </h6>
        </a>
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/">Home</a>
                </li>
                
				
                <li>
                    <a href="/about/">About</a>
                </li>
				
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Rails Project - with JQuery & JSON</h1>
                    
                    <span class="meta">Posted by hannah11361 on July 15, 2017</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

				<p>It has been an amazing journey to see how websites are born and transformed into functional applications that can do almost anything. We are bound by our own imaginations, or how much time you are willing to spend googling!</p>

<p><strong>planning</strong></p>

<ul>
  <li>
    <p>render events index, show &amp; user show page with json backend</p>
  </li>
  <li>
    <p>event show page contains buttons to advance to next event, load statistics (numbers of people going/not going/maybe going), load associated itineraries &amp; comments.</p>
  </li>
</ul>

<p><strong>action</strong></p>

<ul>
  <li>customize Active Model Serializer for each model to fit the format desired for easier rendering</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>class UserSerializer &lt; ActiveModel::Serializer
  attributes :id, :name, :email, :meetings, :events

  #user organized meeting
  def meetings
  	object.meetings.map do |meeting|
  		{id: meeting.id, attributes: {title: meeting.title}}
  	end
  end

  #user particiating event
  def events
  	object.events.map do |event|
  		{id: event.id, attributes: {title: event.title}}
  	end
  end
end
</code></pre>
</div>

<ul>
  <li>tackle one view page at a time, but plan ahead since some pages can share the same template. For example: list of events on event index page and user show page utilize the same handlebar template</li>
  <li>have fun with the ajax $.get and $.post</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>function loadItineraries(){
	var event_id = parseInt($(".js-next").attr("data-id"));
	$.get("/events/" + event_id +"/itineraries.json", function(data){ 
		var itinerariesHTML = HandlebarsTemplates['itineraries']({itineraries : data["data"]});
		$(".itineraries").html(itinerariesHTML);
	});	
}
</code></pre>
</div>

<ul>
  <li>have fun using Javascript Model Objects:
    <div class="highlighter-rouge"><pre class="highlight"><code>//declare Comment object
function Comment(id, event_id, email, comment){
  this.id = id;
  this.event = event_id;
  this.comment = comment;
  this.email = email;
}
// prototype function for Comment Object
Comment.prototype.newComment = function() {
  return (`&lt;tr class="info"&gt;
          &lt;td&gt;${this.comment}&lt;/td&gt;
          &lt;td&gt;${this.email}&lt;/td&gt;
          &lt;td align="right"&gt;&lt;a class="btn-info" href="/events/${this.event_id}/comments/${this.id}"&gt;view&lt;/td&gt;&lt;/tr&gt;
      `);
}
</code></pre>
    </div>
  </li>
</ul>

<p><strong>wrap up</strong></p>

<p>breath and celebrate!</p>

<p><strong>some random tips:</strong></p>

<p><strong>pictures</strong></p>

<p>A picture is worth a thousand words.</p>

<p><img src="http://i.imgur.com/ID9yl2T.gif" alt="pictures" /></p>

<p>Place picture for rails application under :
<code class="highlighter-rouge">#app/assets/images</code></p>

<p>use /assets/leave.jpg as url since rails knows images are contained in the images folder.</p>

<p><a href="https://blog.snappa.com/free-stock-photos/">List of websites with free beautiful stock photos </a></p>

<p><a href="http://gifmaker.me/">make moving photos (gif) on this site</a></p>

<p><strong>handlebars template in rails</strong></p>

<p>An example walk-thru is worth a hundred google searches:</p>

<p><a href="https://blog.botreetechnologies.com/using-handlebars-js-with-ruby-on-rails-bcddce004947">a great site walked through stey by step how to incorporate handlebars template in rails</a></p>

<p><strong>ready to load</strong></p>

<p>Buttons were not responding when clicked if the page is redirected from other pages, instead of using the ready function, use below instead:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$(document).on('turbolinks:load', function(){

  	// any javascripts

});
</code></pre>
</div>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/06/24/rails_project_-_lets_go/" data-toggle="tooltip" data-placement="top" title="Rails Project : Let's Go">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2017/08/12/r3_village_-_react_project/" data-toggle="tooltip" data-placement="top" title="R3 Village - React Project">Next Post &rarr;</a>
                    </li>
                    
                </ul>

            </div>
        </div>
    </div>
</article>

<hr>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="https://learn.co/hannah11361">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <span class="learn-icon">&#66;</span>
                            </span>
                        </a>
                    </li>
                    
                    
                    
                    <li>
                        <a href="https://github.com/hannah11361">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; hannah11361 2017</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>


</body>

</html>
